<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.127.0">
    <meta name="description" content="">
<meta name="author" content="journeyoftheaverageguy@gmail.com">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Unit Test FlightBooking service class :: Amazon Q Developer Workshop - Build enterprise Java application with Spring Boot</title>

    
    <link href="/css/nucleus.css?1725902891" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1725902891" rel="stylesheet">
    <link href="/css/hybrid.css?1725902891" rel="stylesheet">
    <link href="/css/featherlight.min.css?1725902891" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1725902891" rel="stylesheet">
    <link href="/css/auto-complete.css?1725902891" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1725902891" rel="stylesheet">
    <link href="/css/theme.css?1725902891" rel="stylesheet">
    <link href="/css/hugo-theme.css?1725902891" rel="stylesheet">
    
    <link href="/css/theme-workshop.css?1725902891" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1725902891"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/3-module-2-flight-reservation-api/7-unit-test-flightbooking-service-classes/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">

<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg>

</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1725902891"></script>
<script type="text/javascript" src="/js/auto-complete.js?1725902891"></script>
<script type="text/javascript">
    
        var baseurl = "\/\/localhost:1313\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1725902891"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/1-config-environment/" title="Setup Development Environment" class="dd-item 
        
        
        
        ">
      <a href="/1-config-environment/">
           <b> 1. </b> Setup Development Environment
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/1-config-environment/1-connecting-ec2/" title="Connect to Development EC2" class="dd-item 
        
        
        
        ">
      <a href="/1-config-environment/1-connecting-ec2/">
           <b> 1.1 </b> Connect to Development EC2
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-config-environment/2-config-cognito/" title="Set up Cognito" class="dd-item 
        
        
        
        ">
      <a href="/1-config-environment/2-config-cognito/">
           <b> 1.2 </b> Set up Cognito
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-config-environment/3-configsns-to-send-email/" title="Configure SNS Topic to send Emails" class="dd-item 
        
        
        
        ">
      <a href="/1-config-environment/3-configsns-to-send-email/">
           <b> 1.3 </b> Configure SNS Topic to send Emails
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-config-environment/4-config-mysql-to-connect-rds/" title="Configure MySQL Workbench to connect to RDS" class="dd-item 
        
        
        
        ">
      <a href="/1-config-environment/4-config-mysql-to-connect-rds/">
           <b> 1.4 </b> Configure MySQL Workbench to connect to RDS
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-config-environment/5-openning-project-intelij/" title="Open the prompt project in IntelliJ IDE" class="dd-item 
        
        
        
        ">
      <a href="/1-config-environment/5-openning-project-intelij/">
           <b> 1.5 </b> Open the prompt project in IntelliJ IDE
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-config-environment/6-setup-amazonq/" title="Setup Amazon Q Developer" class="dd-item 
        
        
        
        ">
      <a href="/1-config-environment/6-setup-amazonq/">
           <b> 1.6 </b> Setup Amazon Q Developer
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2-module-1-find-flights-api/" title="Module 1 - Find Flights API" class="dd-item 
        
        
        
        ">
      <a href="/2-module-1-find-flights-api/">
           <b> 2. </b> Module 1 - Find Flights API
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/2-module-1-find-flights-api/1-table-database-module1/" title="Setup the database tables for Module 1" class="dd-item 
        
        
        
        ">
      <a href="/2-module-1-find-flights-api/1-table-database-module1/">
           <b> 2.1 </b> Setup the database tables for Module 1
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-module-1-find-flights-api/2-model-classes-module1/" title="Build the model classes" class="dd-item 
        
        
        
        ">
      <a href="/2-module-1-find-flights-api/2-model-classes-module1/">
           <b> 2.2 </b> Build the model classes
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-module-1-find-flights-api/3-dto-module1/" title="Create Data Transfer Object (DTO)" class="dd-item 
        
        
        
        ">
      <a href="/2-module-1-find-flights-api/3-dto-module1/">
           <b> 2.3 </b> Create Data Transfer Object (DTO)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-module-1-find-flights-api/4-jpa-repository-interface-module1/" title="Build JPA Repository Interface" class="dd-item 
        
        
        
        ">
      <a href="/2-module-1-find-flights-api/4-jpa-repository-interface-module1/">
           <b> 2.4 </b> Build JPA Repository Interface
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-module-1-find-flights-api/5-config-datasource-module1/" title="Data Source configuration" class="dd-item 
        
        
        
        ">
      <a href="/2-module-1-find-flights-api/5-config-datasource-module1/">
           <b> 2.5 </b> Data Source configuration
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-module-1-find-flights-api/6-service-classes-module1/" title="Build the service class" class="dd-item 
        
        
        
        ">
      <a href="/2-module-1-find-flights-api/6-service-classes-module1/">
           <b> 2.6 </b> Build the service class
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-module-1-find-flights-api/7-unit-test-repository-classes-module1/" title="Unit Testing of the repository classes" class="dd-item 
        
        
        
        ">
      <a href="/2-module-1-find-flights-api/7-unit-test-repository-classes-module1/">
           <b> 2.7 </b> Unit Testing of the repository classes
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-module-1-find-flights-api/8-unit-test-service-classes-module1/" title="Unit Test the service class" class="dd-item 
        
        
        
        ">
      <a href="/2-module-1-find-flights-api/8-unit-test-service-classes-module1/">
           <b> 2.8 </b> Unit Test the service class
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-module-1-find-flights-api/9-get-cognito-pkeys-module1/" title="Get Cognito public keys" class="dd-item 
        
        
        
        ">
      <a href="/2-module-1-find-flights-api/9-get-cognito-pkeys-module1/">
           <b> 2.9 </b> Get Cognito public keys
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-module-1-find-flights-api/10-exception-handler-module1/" title="Build Exception Handler to handle Authentication Exceptions" class="dd-item 
        
        
        
        ">
      <a href="/2-module-1-find-flights-api/10-exception-handler-module1/">
           <b> 2.10 </b> Build Exception Handler to handle Authentication Exceptions
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-module-1-find-flights-api/11-flight-reservations-controller-classes-module1/" title="Create the FlightReservation Controller class" class="dd-item 
        
        
        
        ">
      <a href="/2-module-1-find-flights-api/11-flight-reservations-controller-classes-module1/">
           <b> 2.11 </b> Create the FlightReservation Controller class
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-module-1-find-flights-api/12-unit-test-find-flights-api/" title="Unit Test Find Flights API" class="dd-item 
        
        
        
        ">
      <a href="/2-module-1-find-flights-api/12-unit-test-find-flights-api/">
           <b> 2.12 </b> Unit Test Find Flights API
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/3-module-2-flight-reservation-api/" title="Module 2 - Flight Reservation API" class="dd-item 
        parent
        
        
        ">
      <a href="/3-module-2-flight-reservation-api/">
           <b> 3. </b> Module 2 - Flight Reservation API
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/3-module-2-flight-reservation-api/1-table-database-module2/" title="Create Tables and load data" class="dd-item 
        
        
        
        ">
      <a href="/3-module-2-flight-reservation-api/1-table-database-module2/">
           <b> 3.1 </b> Create Tables and load data
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-module-2-flight-reservation-api/2-model-classes-module2/" title="Build the model layer" class="dd-item 
        
        
        
        ">
      <a href="/3-module-2-flight-reservation-api/2-model-classes-module2/">
           <b> 3.2 </b> Build the model layer
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-module-2-flight-reservation-api/3-jpa-repository-module2/" title="Build the JPA Repository" class="dd-item 
        
        
        
        ">
      <a href="/3-module-2-flight-reservation-api/3-jpa-repository-module2/">
           <b> 3.3 </b> Build the JPA Repository
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-module-2-flight-reservation-api/4-unit-test-repository-classes-module2/" title="Unit test the Repository classes" class="dd-item 
        
        
        
        ">
      <a href="/3-module-2-flight-reservation-api/4-unit-test-repository-classes-module2/">
           <b> 3.4 </b> Unit test the Repository classes
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-module-2-flight-reservation-api/5-handle-bussiness-exceptions-module2/" title="Handle Business Exceptions" class="dd-item 
        
        
        
        ">
      <a href="/3-module-2-flight-reservation-api/5-handle-bussiness-exceptions-module2/">
           <b> 3.5 </b> Handle Business Exceptions
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-module-2-flight-reservation-api/6-service-classes-module2/" title="Build the service class" class="dd-item 
        
        
        
        ">
      <a href="/3-module-2-flight-reservation-api/6-service-classes-module2/">
           <b> 3.6 </b> Build the service class
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-module-2-flight-reservation-api/7-unit-test-flightbooking-service-classes/" title="Unit Test FlightBooking service class" class="dd-item 
        
        active
        
        ">
      <a href="/3-module-2-flight-reservation-api/7-unit-test-flightbooking-service-classes/">
           <b> 3.7 </b> Unit Test FlightBooking service class
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-module-2-flight-reservation-api/8-dto-reservation-details/" title="Create DTO Reservation Details" class="dd-item 
        
        
        
        ">
      <a href="/3-module-2-flight-reservation-api/8-dto-reservation-details/">
           <b> 3.8 </b> Create DTO Reservation Details
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-module-2-flight-reservation-api/9-book-flight-api-controller/" title="Create the book flight API Controller" class="dd-item 
        
        
        
        ">
      <a href="/3-module-2-flight-reservation-api/9-book-flight-api-controller/">
           <b> 3.9 </b> Create the book flight API Controller
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-module-2-flight-reservation-api/10-unit-test-reserve-flight-api/" title="Unit Testing of the reserve Flight API" class="dd-item 
        
        
        
        ">
      <a href="/3-module-2-flight-reservation-api/10-unit-test-reserve-flight-api/">
           <b> 3.10 </b> Unit Testing of the reserve Flight API
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/4-testing-api-with-postman/" title="Test API with Postman" class="dd-item 
        
        
        
        ">
      <a href="/4-testing-api-with-postman/">
           <b> 4. </b> Test API with Postman
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/5-clean-up/" title="Clean up" class="dd-item 
        
        
        
        ">
      <a href="/5-clean-up/">
           <b> 5. </b> Clean up
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://aws.amazon.com/blogs"><i class='fab fa-aws'></i> AWS Study Group - Blog</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj"><i class='fab fa-facebook'></i> AWS Study Group - FB Group</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="//localhost:1313/3-module-2-flight-reservation-api/7-unit-test-flightbooking-service-classes/" selected>English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="vi" value="//localhost:1313/vi/3-module-2-flight-reservation-api/7-unit-test-flightbooking-service-classes/">Tiếng Việt</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    
     <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830891&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" Alt="web counter"   border="0" /></a>  <br>
     <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" Alt="web counter"   border="0"   />
     
</left>
<left>
    <br>
    <br>
        <b> Last Updated </b> <br>
        <i><font color=orange>26-11-2023</font></i>
    </left>
    <left>
        <br>
        <br>
            <b> Team </b> <br>
           
            <i>
                <a href="https://www.linkedin.com/in/jotaguy"  style="color:orange">Gia Hưng</a>
        </i>
        </left>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>Home</a> > <a href='/3-module-2-flight-reservation-api/'>Module 2 - Flight Reservation API</a> > Unit Test FlightBooking service class
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents"></nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Unit Test FlightBooking service class
            </h1>
          

        



	<ul>
<li>Now you will build the unit test scripts for FlightBooking service with Junit. Test scripts will integrate with backend services and AWS services or Java classes will not be mocked.</li>
<li>Open FlightBookingServiceTest.java in the folder test/java/com.airlines.catalog.test/ and add the following import statements.</li>
</ul>
<p><img alt="image.png" src="/images/module_2/unit_test_service_flightbooking/image.png"></p>
<ul>
<li>Create the class to test the FlightBooking Service</li>
</ul>
<div style="background-color: #e7f3fe; padding: 20px;" class="callout callout-info">
    <strong>Prompt</strong>
    <p>

Create FlightBookingServiceTest class to test the flightBooking service using web environment with random port.
Autowire sns.arn, aws.region from properties file

</p>
</div>

<p><img alt="image.png" src="/images/module_2/unit_test_service_flightbooking/image_1.png"></p>
<ul>
<li>First test scenario - reservation success with valid input parameters. Reservation should be successful with data saved in passenger, reservation tables and a notification email received.</li>
</ul>
<div style="background-color: #e7f3fe; padding: 20px;" class="callout callout-info">
    <strong>Prompt</strong>
    <p>

Create reserve flight success test method.
Create Passenger object by setting attributes firstName, lastName, Adult=true and gender=male
create Reservation object class by setting attributes flightId=1,travelClass, ticketPrice,
currencyCode, paymentMode,contactNumber, contactEmail, reservationStatus,passengerId, reservationDate,
reservationTime, paymentStatus
Create AWS region object

</p>
</div>

<ul>
<li>Add this code to call the <strong>reserveFlight</strong> <strong>method</strong></li>
</ul>
<div style="background-color: #e7f3fe; padding: 20px;" class="callout callout-info">
    <strong>Code</strong>
    <p>

Assert.assertTrue(flightBooking.reserveFlight(passenger, reservation, passengerRepository, reservationRepository, flightRepository, 1, snsArn, region));

</p>
</div>

<p><img alt="image.png" src="/images/module_2/unit_test_service_flightbooking/image_2.png"></p>
<ul>
<li>Second test scenario - reservation failure scenario with invalid flight id as input</li>
</ul>
<div style="background-color: #e7f3fe; padding: 20px;" class="callout callout-info">
    <strong>Prompt</strong>
    <p>

Create  reserve flight invalid flightId test method.
Create passenger object by setting attributes firstName, lastName, Adult=true and gender
Create reservation object class by setting attributes flightId=10000,travelClass, ticketPrice,
currencyCode, paymentMode,contactNumber, contactEmail, reservationStatus, passengerId, reservationDate,
reservationTime, paymentStatus
Create AWS region object
asset if the exception contains 'No flights found"


</p>
</div>

<p><img alt="image.png" src="/images/module_2/unit_test_service_flightbooking/image_3.png"></p>
<ul>
<li>If try / catch block is not added around the reserveFlight method, please add. Amazon Q Developer will provide recommendations line by line</li>
</ul>
<p><img alt="image.png" src="/images/module_2/unit_test_service_flightbooking/image_4.png"></p>
<ul>
<li>Update the number of seat_available columnn in flight table to 0 for id=5 by running the SQL statement below in MYSQL Workbench.</li>
</ul>
<div style="background-color: #e7f3fe; padding: 20px;" class="callout callout-info">
    <strong>Code</strong>
    <p>

 update flight set seat_available =0 where id=5; 

</p>
</div>

<p><img alt="image.png" src="/images/module_2/unit_test_service_flightbooking/image_5.png"></p>
<ul>
<li>Third test scenario - reservation failure scenario with no seats available for the requested flight id.</li>
</ul>
<div style="background-color: #e7f3fe; padding: 20px;" class="callout callout-info">
    <strong>Prompt</strong>
    <p>


Create  reserve flight insufficient seats method.
Create passenger object by setting attributes firstName, lastName, Adult=true and gender
Create reservation object class by setting attributes flightId=5,travelClass, ticketPrice,
currencyCode, paymentMode,contactNumber, contactEmail, reservationStatus, passengerId,
reservationDate, reservationTime, paymentStatus
Create AWS region object.
asset if the exception contains 'Seats not available".
 

</p>
</div>

<p><img alt="image.png" src="/images/module_2/unit_test_service_flightbooking/image_6.png"></p>
<ul>
<li>Again, if try / catch block is not added around the reserveFlight method, please add. Amazon Q Developer will provide recommendations line by line</li>
</ul>
<p><img alt="image.png" src="/images/module_2/unit_test_service_flightbooking/image_7.png"></p>
<ul>
<li>We will run the test cases we just created, and I have passed 3 test cases.</li>
</ul>
<p><img alt="image.png" src="/images/module_2/unit_test_service_flightbooking/image_8.png"></p>
<ul>
<li>Next, we check the database to see if the successful booking test cases have data added to the database. We will check the data in both the passenger and reservation tables, then we will receive a notification email, if the above conditions are met, I have succeeded.</li>
</ul>
<p><img alt="image.png" src="/images/module_2/unit_test_service_flightbooking/image_9.png">
<img alt="image.png" src="/images/module_2/unit_test_service_flightbooking/image_10.png">
<img alt="image.png" src="/images/module_2/unit_test_service_flightbooking/image_11.png"></p>
<ul>
<li>Complete code for FlightBookingServiceTest class</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.airlines.catalog.test;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.junit.Assert;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.junit.jupiter.api.Test;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.beans.factory.annotation.Autowired;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.beans.factory.annotation.Value;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.boot.test.context.SpringBootTest;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.airlines.catalog.FlightBookingApplication;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.airlines.catalog.model.Reservation;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.airlines.catalog.model.Passenger;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.airlines.catalog.repository.ReservationRepository;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.airlines.catalog.repository.PassengerRepository;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.airlines.catalog.repository.FlightRepository;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.airlines.catalog.service.FlightBooking;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.airlines.catalog.exception.FlightNotFoundException;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.airlines.catalog.exception.RequestedSeatsNotAvailable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> software.amazon.awssdk.regions.Region;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Create FlightBookingTest class to test the FlightBooking service using
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">web environment with random port.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Autowire sns.arn, aws.region from properties file
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">*/</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@SpringBootTest</span>(classes <span style="color:#f92672">=</span> FlightBookingApplication.<span style="color:#a6e22e">class</span>, webEnvironment <span style="color:#f92672">=</span> SpringBootTest.<span style="color:#a6e22e">WebEnvironment</span>.<span style="color:#a6e22e">RANDOM_PORT</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FlightBookingServiceTest</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Autowired</span>
</span></span><span style="display:flex;"><span>    FlightBooking flightBooking;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Autowired</span>
</span></span><span style="display:flex;"><span>    FlightRepository flightRepository;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Autowired</span>
</span></span><span style="display:flex;"><span>    PassengerRepository passengerRepository;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Autowired</span>
</span></span><span style="display:flex;"><span>    ReservationRepository reservationRepository;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Value</span>(<span style="color:#e6db74">&#34;${sns.arn}&#34;</span>)
</span></span><span style="display:flex;"><span>    String snsArn;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Value</span>(<span style="color:#e6db74">&#34;${aws.region}&#34;</span>)
</span></span><span style="display:flex;"><span>    String awsRegion;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Create reserve flight success test method.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Create Passenger object by setting attributes firstName, lastName, Adult=true and gender=male
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    create Reservation object class by setting attributes flightId=1,travelClass, ticketPrice,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    currencyCode, paymentMode,contactNumber, contactEmail, reservationStatus,passengerId, reservationDate,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    reservationTime, paymentStatus
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Create AWS region object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">reserveFlightSuccessTest</span>() {
</span></span><span style="display:flex;"><span>        Passenger passenger <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Passenger();
</span></span><span style="display:flex;"><span>        passenger.<span style="color:#a6e22e">setFirstName</span>(<span style="color:#e6db74">&#34;XXXX&#34;</span>);
</span></span><span style="display:flex;"><span>        passenger.<span style="color:#a6e22e">setLastName</span>(<span style="color:#e6db74">&#34;XXX&#34;</span>);
</span></span><span style="display:flex;"><span>        passenger.<span style="color:#a6e22e">setAdult</span>(<span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>        passenger.<span style="color:#a6e22e">setGender</span>(<span style="color:#e6db74">&#34;male&#34;</span>);
</span></span><span style="display:flex;"><span>        Reservation reservation <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Reservation();
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setFlightId</span>(1);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setTravelClass</span>(<span style="color:#e6db74">&#34;economy&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setTicketPrice</span>(100);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setCurrencyCode</span>(<span style="color:#e6db74">&#34;USD&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setPaymentMode</span>(<span style="color:#e6db74">&#34;credit card&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setContactNumber</span>(<span style="color:#e6db74">&#34;1234567890&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setContactEmail</span>(<span style="color:#e6db74">&#34;abc@gmail.com&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setReservationStatus</span>(<span style="color:#e6db74">&#34;pending&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setPaymentStatus</span>(<span style="color:#e6db74">&#34;Paid&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setReservationDate</span>(<span style="color:#e6db74">&#34;2023-10-25&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setReservationTime</span>(<span style="color:#e6db74">&#34;12:00:00&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setPassengerId</span>(passenger.<span style="color:#a6e22e">getPassengerId</span>());
</span></span><span style="display:flex;"><span>        Region region <span style="color:#f92672">=</span> Region.<span style="color:#a6e22e">of</span>(awsRegion);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Assert.<span style="color:#a6e22e">assertTrue</span>(flightBooking.<span style="color:#a6e22e">reserveFlight</span>(passenger, reservation, passengerRepository,
</span></span><span style="display:flex;"><span>                reservationRepository, flightRepository, 1, snsArn, region));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Create  reserve flight invalid flightId test method.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Create passenger object by setting attributes firstName, lastName, Adult=true and gender
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Create reservation object class by setting attributes flightId=10000,travelClass, ticketPrice,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    currencyCode, paymentMode,contactNumber, contactEmail, reservationStatus, passengerId, reservationDate,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    reservationTime, paymentStatus
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Create AWS region object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    asset if the exception contains &#39;No flights found&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">reserveFlightInvalidFlightIdTest</span>() {
</span></span><span style="display:flex;"><span>        Passenger passenger <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Passenger();
</span></span><span style="display:flex;"><span>        passenger.<span style="color:#a6e22e">setFirstName</span>(<span style="color:#e6db74">&#34;XXXX&#34;</span>);
</span></span><span style="display:flex;"><span>        passenger.<span style="color:#a6e22e">setLastName</span>(<span style="color:#e6db74">&#34;XXX&#34;</span>);
</span></span><span style="display:flex;"><span>        passenger.<span style="color:#a6e22e">setAdult</span>(<span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>        passenger.<span style="color:#a6e22e">setGender</span>(<span style="color:#e6db74">&#34;male&#34;</span>);
</span></span><span style="display:flex;"><span>        Reservation reservation <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Reservation();
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setFlightId</span>(10000);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setTravelClass</span>(<span style="color:#e6db74">&#34;economy&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setTicketPrice</span>(100);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setCurrencyCode</span>(<span style="color:#e6db74">&#34;USD&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setPaymentMode</span>(<span style="color:#e6db74">&#34;credit card&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setContactNumber</span>(<span style="color:#e6db74">&#34;1234567890&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setContactEmail</span>(<span style="color:#e6db74">&#34;abc@gmail.com&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setReservationStatus</span>(<span style="color:#e6db74">&#34;pending&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setPaymentStatus</span>(<span style="color:#e6db74">&#34;Paid&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setReservationDate</span>(<span style="color:#e6db74">&#34;2023-10-25&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setReservationTime</span>(<span style="color:#e6db74">&#34;12:00:00&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setPassengerId</span>(passenger.<span style="color:#a6e22e">getPassengerId</span>());
</span></span><span style="display:flex;"><span>        Region region <span style="color:#f92672">=</span> Region.<span style="color:#a6e22e">of</span>(awsRegion);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            Assert.<span style="color:#a6e22e">assertThrows</span>(FlightNotFoundException.<span style="color:#a6e22e">class</span>, () <span style="color:#f92672">-&gt;</span> flightBooking.<span style="color:#a6e22e">reserveFlight</span>(passenger, reservation, passengerRepository,
</span></span><span style="display:flex;"><span>                    reservationRepository, flightRepository, 10000, snsArn, region));
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (FlightNotFoundException e) {
</span></span><span style="display:flex;"><span>            Assert.<span style="color:#a6e22e">assertEquals</span>(<span style="color:#e6db74">&#34;No flights found&#34;</span>, e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Create  reserve flight insufficient seats method.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Create passenger object by setting attributes firstName, lastName, Adult=true and gender
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Create reservation object class by setting attributes flightId=5,travelClass, ticketPrice,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">currencyCode, paymentMode,contactNumber, contactEmail, reservationStatus, passengerId,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">reservationDate, reservationTime, paymentStatus
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Create AWS region object.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">asset if the exception contains &#39;Seats not available&#34;.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">reserveFlightInsufficientSeatsTest</span>() {
</span></span><span style="display:flex;"><span>        Passenger passenger <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Passenger();
</span></span><span style="display:flex;"><span>        passenger.<span style="color:#a6e22e">setFirstName</span>(<span style="color:#e6db74">&#34;Test&#34;</span>);
</span></span><span style="display:flex;"><span>        passenger.<span style="color:#a6e22e">setLastName</span>(<span style="color:#e6db74">&#34;Test&#34;</span>);
</span></span><span style="display:flex;"><span>        passenger.<span style="color:#a6e22e">setAdult</span>(<span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>        passenger.<span style="color:#a6e22e">setGender</span>(<span style="color:#e6db74">&#34;male&#34;</span>);
</span></span><span style="display:flex;"><span>        Reservation reservation <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Reservation();
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setFlightId</span>(5);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setTravelClass</span>(<span style="color:#e6db74">&#34;economy&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setTicketPrice</span>(100);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setCurrencyCode</span>(<span style="color:#e6db74">&#34;USD&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setPaymentMode</span>(<span style="color:#e6db74">&#34;credit card&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setContactNumber</span>(<span style="color:#e6db74">&#34;1234567890&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setContactEmail</span>(<span style="color:#e6db74">&#34;test@gmail.com&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setReservationStatus</span>(<span style="color:#e6db74">&#34;pending&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setPaymentStatus</span>(<span style="color:#e6db74">&#34;Paid&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setReservationDate</span>(<span style="color:#e6db74">&#34;2023-10-25&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setReservationTime</span>(<span style="color:#e6db74">&#34;12:00:00&#34;</span>);
</span></span><span style="display:flex;"><span>        reservation.<span style="color:#a6e22e">setPassengerId</span>(passenger.<span style="color:#a6e22e">getPassengerId</span>());
</span></span><span style="display:flex;"><span>        Region region <span style="color:#f92672">=</span> Region.<span style="color:#a6e22e">of</span>(awsRegion);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            Assert.<span style="color:#a6e22e">assertThrows</span>(RequestedSeatsNotAvailable.<span style="color:#a6e22e">class</span>, () <span style="color:#f92672">-&gt;</span> flightBooking.<span style="color:#a6e22e">reserveFlight</span>(passenger, reservation, passengerRepository,
</span></span><span style="display:flex;"><span>                    reservationRepository, flightRepository, 5, snsArn, region));
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (RequestedSeatsNotAvailable e) {
</span></span><span style="display:flex;"><span>            Assert.<span style="color:#a6e22e">assertEquals</span>(<span style="color:#e6db74">&#34;Seats not available&#34;</span>, e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>




<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/3-module-2-flight-reservation-api/6-service-classes-module2/" title="Build the service class"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/3-module-2-flight-reservation-api/8-dto-reservation-details/" title="Create DTO Reservation Details" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1725902891"></script>
    <script src="/js/perfect-scrollbar.min.js?1725902891"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1725902891"></script>
    <script src="/js/jquery.sticky.js?1725902891"></script>
    <script src="/js/featherlight.min.js?1725902891"></script>
    <script src="/js/highlight.pack.js?1725902891"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1725902891"></script>
    <script src="/js/learn.js?1725902891"></script>
    <script src="/js/hugo-learn.js?1725902891"></script>

    <link href="/mermaid/mermaid.css?1725902891" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1725902891"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
