<!DOCTYPE html>
<html lang="vi" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.127.0">
    <meta name="description" content="">
<meta name="author" content="journeyoftheaverageguy@gmail.com">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Unit test cho  API đặt chỗ chuyến bay :: Amazon Q Developer Workshop - Build enterprise Java application with Spring Boot</title>

    
    <link href="/css/nucleus.css?1726247042" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1726247042" rel="stylesheet">
    <link href="/css/hybrid.css?1726247042" rel="stylesheet">
    <link href="/css/featherlight.min.css?1726247042" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1726247042" rel="stylesheet">
    <link href="/css/auto-complete.css?1726247042" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1726247042" rel="stylesheet">
    <link href="/css/theme.css?1726247042" rel="stylesheet">
    <link href="/css/hugo-theme.css?1726247042" rel="stylesheet">
    
    <link href="/css/theme-workshop.css?1726247042" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1726247042"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/vi/3-module-2-flight-reservation-api/10-unit-test-reserve-flight-api/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">

<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg>

</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1726247042"></script>
<script type="text/javascript" src="/js/auto-complete.js?1726247042"></script>
<script type="text/javascript">
    
        var baseurl = "\/\/vi";
    
</script>
<script type="text/javascript" src="/js/search.js?1726247042"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/vi/1-config-environment/" title="Thiết lập môi trường" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-config-environment/">
           <b> 1. </b> Thiết lập môi trường
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/1-config-environment/1-connecting-ec2/" title="Kết nối EC2" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-config-environment/1-connecting-ec2/">
           <b> 1.1 </b> Kết nối EC2
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/1-config-environment/2-config-cognito/" title="Cấu hình Cognito" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-config-environment/2-config-cognito/">
           <b> 1.2 </b> Cấu hình Cognito
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/1-config-environment/3-configsns-to-send-email/" title="Cấu hình SNS topic để gửi email" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-config-environment/3-configsns-to-send-email/">
           <b> 1.3 </b> Cấu hình SNS topic để gửi email
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/1-config-environment/4-config-mysql-to-connect-rds/" title="Cấu hình MySQL Workbench để kết nối tới RDS" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-config-environment/4-config-mysql-to-connect-rds/">
           <b> 1.4 </b> Cấu hình MySQL Workbench để kết nối tới RDS
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/1-config-environment/5-openning-project-intelij/" title="Mở Project trong Intelij IDE" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-config-environment/5-openning-project-intelij/">
           <b> 1.5 </b> Mở Project trong Intelij IDE
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/1-config-environment/6-setup-amazonq/" title="Thiết lập Amazon Q Developer trong JetBrains Intelij" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-config-environment/6-setup-amazonq/">
           <b> 1.6 </b> Thiết lập Amazon Q Developer trong JetBrains Intelij
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/2-module-1-find-flights-api/" title="Module 1 - API tìm chuyến bay (Find Flights API)" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-module-1-find-flights-api/">
           <b> 2. </b> Module 1 - API tìm chuyến bay (Find Flights API)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/2-module-1-find-flights-api/1-table-database-module1/" title="Thiết lập bảng cho database của Module 1" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-module-1-find-flights-api/1-table-database-module1/">
           <b> 2.1 </b> Thiết lập bảng cho database của Module 1
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-module-1-find-flights-api/2-model-classes-module1/" title="Xây dựng các lớp model" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-module-1-find-flights-api/2-model-classes-module1/">
           <b> 2.2 </b> Xây dựng các lớp model
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-module-1-find-flights-api/3-dto-module1/" title="Tạo Data Transfer Object (DTO)" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-module-1-find-flights-api/3-dto-module1/">
           <b> 2.3 </b> Tạo Data Transfer Object (DTO)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-module-1-find-flights-api/4-jpa-repository-interface-module1/" title="Dựng JPA Repository Interface" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-module-1-find-flights-api/4-jpa-repository-interface-module1/">
           <b> 2.4 </b> Dựng JPA Repository Interface
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-module-1-find-flights-api/5-config-datasource-module1/" title="Cấu hình Datasource" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-module-1-find-flights-api/5-config-datasource-module1/">
           <b> 2.5 </b> Cấu hình Datasource
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-module-1-find-flights-api/6-service-classes-module1/" title="Xây dựng các lớp Service" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-module-1-find-flights-api/6-service-classes-module1/">
           <b> 2.6 </b> Xây dựng các lớp Service
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-module-1-find-flights-api/7-unit-test-repository-classes-module1/" title="Unit Testing cho các lớp Repository" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-module-1-find-flights-api/7-unit-test-repository-classes-module1/">
           <b> 2.7 </b> Unit Testing cho các lớp Repository
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-module-1-find-flights-api/8-unit-test-service-classes-module1/" title="Unit Test lớp service" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-module-1-find-flights-api/8-unit-test-service-classes-module1/">
           <b> 2.8 </b> Unit Test lớp service
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-module-1-find-flights-api/9-get-cognito-pkeys-module1/" title="Lấy Cognito public keys" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-module-1-find-flights-api/9-get-cognito-pkeys-module1/">
           <b> 2.9 </b> Lấy Cognito public keys
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-module-1-find-flights-api/10-exception-handler-module1/" title="Xây dựng Exception Handler để xử lý các Authentication Exceptions" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-module-1-find-flights-api/10-exception-handler-module1/">
           <b> 2.10 </b> Xây dựng Exception Handler để xử lý các Authentication Exceptions
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-module-1-find-flights-api/11-flight-reservations-controller-classes-module1/" title="Tạo lớp FlightReservation Controller" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-module-1-find-flights-api/11-flight-reservations-controller-classes-module1/">
           <b> 2.11 </b> Tạo lớp FlightReservation Controller
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-module-1-find-flights-api/12-unit-test-find-flights-api/" title="Unit test API tìm chuyến bay" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-module-1-find-flights-api/12-unit-test-find-flights-api/">
           <b> 2.12 </b> Unit test API tìm chuyến bay
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/3-module-2-flight-reservation-api/" title="Module 2 - API đặt chỗ chuyến bay (Flight Reservation API)" class="dd-item 
        parent
        
        
        ">
      <a href="/vi/3-module-2-flight-reservation-api/">
           <b> 3. </b> Module 2 - API đặt chỗ chuyến bay (Flight Reservation API)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/3-module-2-flight-reservation-api/1-table-database-module2/" title="Tạo bảng và load dữ liệu" class="dd-item 
        
        
        
        ">
      <a href="/vi/3-module-2-flight-reservation-api/1-table-database-module2/">
           <b> 3.1 </b> Tạo bảng và load dữ liệu
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/3-module-2-flight-reservation-api/2-model-classes-module2/" title="Xây dựng tầng model" class="dd-item 
        
        
        
        ">
      <a href="/vi/3-module-2-flight-reservation-api/2-model-classes-module2/">
           <b> 3.2 </b> Xây dựng tầng model
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/3-module-2-flight-reservation-api/3-jpa-repository-module2/" title="Xây dựng JPA Repository" class="dd-item 
        
        
        
        ">
      <a href="/vi/3-module-2-flight-reservation-api/3-jpa-repository-module2/">
           <b> 3.3 </b> Xây dựng JPA Repository
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/3-module-2-flight-reservation-api/4-unit-test-repository-classes-module2/" title="Unit test cho các lớp Repository " class="dd-item 
        
        
        
        ">
      <a href="/vi/3-module-2-flight-reservation-api/4-unit-test-repository-classes-module2/">
           <b> 3.4 </b> Unit test cho các lớp Repository 
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/3-module-2-flight-reservation-api/5-handle-bussiness-exceptions-module2/" title="Xử lý các Business Exceptions" class="dd-item 
        
        
        
        ">
      <a href="/vi/3-module-2-flight-reservation-api/5-handle-bussiness-exceptions-module2/">
           <b> 3.5 </b> Xử lý các Business Exceptions
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/3-module-2-flight-reservation-api/6-service-classes-module2/" title="Xây dựng các lớp service" class="dd-item 
        
        
        
        ">
      <a href="/vi/3-module-2-flight-reservation-api/6-service-classes-module2/">
           <b> 3.6 </b> Xây dựng các lớp service
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/3-module-2-flight-reservation-api/7-unit-test-flightbooking-service-classes/" title="Unit Test Lớp service FlightBooking" class="dd-item 
        
        
        
        ">
      <a href="/vi/3-module-2-flight-reservation-api/7-unit-test-flightbooking-service-classes/">
           <b> 3.7 </b> Unit Test Lớp service FlightBooking
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/3-module-2-flight-reservation-api/8-dto-reservation-details/" title="Tạo chi tiết đặt chỗ DTO (DTO Reservation Details)" class="dd-item 
        
        
        
        ">
      <a href="/vi/3-module-2-flight-reservation-api/8-dto-reservation-details/">
           <b> 3.8 </b> Tạo chi tiết đặt chỗ DTO (DTO Reservation Details)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/3-module-2-flight-reservation-api/9-book-flight-api-controller/" title="Tạo Controller API đặt chuyến bay" class="dd-item 
        
        
        
        ">
      <a href="/vi/3-module-2-flight-reservation-api/9-book-flight-api-controller/">
           <b> 3.9 </b> Tạo Controller API đặt chuyến bay
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/3-module-2-flight-reservation-api/10-unit-test-reserve-flight-api/" title="Unit test cho  API đặt chỗ chuyến bay" class="dd-item 
        
        active
        
        ">
      <a href="/vi/3-module-2-flight-reservation-api/10-unit-test-reserve-flight-api/">
           <b> 3.10 </b> Unit test cho  API đặt chỗ chuyến bay
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/4-testing-api-with-postman/" title="Chạy thử API với Postman" class="dd-item 
        
        
        
        ">
      <a href="/vi/4-testing-api-with-postman/">
           <b> 4. </b> Chạy thử API với Postman
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/5-clean-up/" title="Clean up" class="dd-item 
        
        
        
        ">
      <a href="/vi/5-clean-up/">
           <b> 5. </b> Clean up
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="http://awsstudygroup.com"><i class='fab fa-aws'></i> AWS Study Group - Blog</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj"><i class='fab fa-facebook'></i> AWS Study Group - Nhóm FB</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="/3-module-2-flight-reservation-api/10-unit-test-reserve-flight-api/">English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="vi" value="/vi/3-module-2-flight-reservation-api/10-unit-test-reserve-flight-api/" selected>Tiếng Việt</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    
     <b> Workshop</b> <br>
    
     
</left>
<left>
    <br>
    <br>
        <b> Last Updated </b> <br>
        <i><font color=orange>10-09-2024</font></i>
    </left>
    <left>
        <br>
        <br>
            <b> Team </b> <br>
           
            <i>
                <a href="https://www.linkedin.com/in/jotaguy"  style="color:orange">Phạm Tuấn</a>
        </i>
        </left>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/vi/'>Home</a> > <a href='/vi/3-module-2-flight-reservation-api/'>Module 2 - API đặt chỗ chuyến bay (Flight Reservation API)</a> > Unit test cho  API đặt chỗ chuyến bay
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents"></nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Unit test cho  API đặt chỗ chuyến bay
            </h1>
          

        



	<ul>
<li>Bây giờ chúng ta sẽ tạo tập lệnh test Junit và unit test API chuyến bay dự trữ. API sẽ được thử nghiệm thông qua Postman.</li>
<li>Mở <strong>ReserveFlightApiTest.java</strong> trong thư mục <strong>test/java/com.airlines.catalog.test/</strong> và thêm các import sau</li>
</ul>
<div style="background-color: #e7f3fe; padding: 20px;" class="callout callout-info">
    <strong>Code</strong>
    <p>

import com.airlines.catalog.FlightBookingApplication;<br>
import com.airlines.catalog.dto.ReservationDetails;<br>
import org.junit.jupiter.api.Test;<br>
import org.springframework.beans.factory.annotation.Autowired;<br>
import org.springframework.beans.factory.annotation.Value;<br>
import org.springframework.boot.test.context.SpringBootTest;<br>
import org.springframework.boot.test.web.client.TestRestTemplate;<br>
import org.springframework.http.HttpEntity;<br>
import org.springframework.http.HttpHeaders;<br>
import org.springframework.http.HttpStatus;<br>
import org.springframework.http.ResponseEntity;<br>
import static org.assertj.core.api.Assertions.assertThat;<br>

</p>
</div>

<p><img alt="image.png" src="/images/module_2/unit_test_reservation_api/image.png"></p>
<ul>
<li>Chúng ta dùng prompt dưới đây để tiến hành tạo lớp <strong>ReserveFlightApiTest</strong>, <strong><strong>và xóa đi các method do Amazon Q chat tạo ra</strong>.</strong></li>
</ul>
<div style="background-color: #e7f3fe; padding: 20px;" class="callout callout-info">
    <strong>Prompt</strong>
    <p>

Create a ReserveFlightApiTest class to test the bookingApi using SpringBootTest

</p>
</div>

<p><img alt="image.png" src="/images/module_2/unit_test_reservation_api/image_1.png"></p>
<ul>
<li>Tiếp theo chúng ta tạo các trường hợp thử nghiệm</li>
<li>Kịch bản thử nghiệm 1 - Mã thông báo JWT không hợp lệ. Đặt Tiêu đề ủy quyền là &ldquo;Mã thông báo không hợp lệ&rdquo;. Đảm bảo rằng định dạng Id email hợp lệ, định dạng Số liên lạc và độ tuổi có giá trị hợp lệ. Nếu không, quá trình kiểm tra sẽ thất bại do việc xác thực dữ liệu diễn ra trước khi xác minh mã thông báo.</li>
</ul>
<div style="background-color: #e7f3fe; padding: 20px;" class="callout callout-info">
    <strong>Prompt</strong>
    <p>

Negative scenaio: 1, Invalid jwtToken
create the reservationDetails object   with fields firstName, lastName, gender, age,
flightId, travelClass, ticketPrice, currencyCode,paymentMode, contactNumber
and contactEmail attributes
Create the HTTP headers object and pass the jwtToken.
Call /reserve end point using post method  pass reservationDetails as request body
Assert that the response message is "Invalid Token"

</p>
</div>

<p><img alt="image.png" src="/images/module_2/unit_test_reservation_api/image_2.png"></p>
<ul>
<li>Đối với tất cả các kịch bản thử nghiệm bên dưới, hãy sử dụng Token mà bạn đã tạo trước đó từ <strong>Cognito</strong> trong quá trình Đăng ký (<strong>Sign-in</strong>). Nếu chúng ta gặp lỗi hết hạn token, chúng ta chỉ cần đăng nhập và lấy lại token mới là được.</li>
<li>Kịch bản thử nghiệm 2 - Số liên hệ không hợp lệ và JWT token hợp lệ, dùng prompt sau.</li>
</ul>
<div style="background-color: #e7f3fe; padding: 20px;" class="callout callout-info">
    <strong>Prompt</strong>
    <p>

Negative scenaio:  Invalid Contact number
   create the reservationDetails object  with fields firstName, lastName, gender, age,
   flightId, travelClass, ticketPrice, currencyCode,paymentMode, invalid contactNumber
   and contactEmail attributes
   create the HTTP headers object and pass the jwtToken
   call /reserve end point using post method, pass reservationDetails as request body
   assert that the response message contains "Contact Number should be valid phone number"

</p>
</div>

<p><img alt="image.png" src="/images/module_2/unit_test_reservation_api/image_3.png"></p>
<ul>
<li>Kịch bản thử nghiệm 3 - JWT token và tất cả các tham số đầu vào đều hợp lệ.</li>
</ul>
<div style="background-color: #e7f3fe; padding: 20px;" class="callout callout-info">
    <strong>Prompt</strong>
    <p>

Positive scenario 1:
   create the reservationDetails object  with fields firstName, lastName, gender, age,
   flightId, travelClass, ticketPrice, currencyCode,paymentMode, contactNumber
   and contactEmail attributes
   create the HTTP headers object and pass the jwtToken
   call /reserve end point using post method, pass reservationDetails as request body
   assert that http status OK
   and  assert that the response message contains "reservation made successfully"

</p>
</div>

<p><img alt="image.png" src="/images/module_2/unit_test_reservation_api/image_4.png"></p>
<ul>
<li>Bây giờ chúng ta sẽ đăng nhập để lấy token và tiến hành run file này, nếu pass qua hết thì được.</li>
</ul>
<p><img alt="image.png" src="/images/module_2/unit_test_reservation_api/image_5.png"></p>
<ul>
<li>Tôi tiến hành chạy và đã pass được cả 3 test case</li>
</ul>
<p><img alt="image.png" src="/images/module_2/unit_test_reservation_api/image_6.png"></p>
<ul>
<li>Code hoan chỉnh cho lớp <strong>ReseveFlightApiTest</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.airlines.catalog.test;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.airlines.catalog.FlightBookingApplication;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.airlines.catalog.dto.ReservationDetails;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.junit.jupiter.api.Test;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.beans.factory.annotation.Autowired;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.beans.factory.annotation.Value;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.boot.test.context.SpringBootTest;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.boot.test.web.client.TestRestTemplate;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.http.HttpEntity;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.http.HttpHeaders;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.http.HttpStatus;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.springframework.http.ResponseEntity;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import static</span> org.assertj.core.api.Assertions.assertThat;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Create a BookingAPIReserveTest class to test the bookingApi using
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">web environment with random port.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">*/</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@SpringBootTest</span>(classes <span style="color:#f92672">=</span> FlightBookingApplication.<span style="color:#a6e22e">class</span>, webEnvironment <span style="color:#f92672">=</span> SpringBootTest.<span style="color:#a6e22e">WebEnvironment</span>.<span style="color:#a6e22e">RANDOM_PORT</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ReserveFlightApiTest</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    String myToken <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Put Your Token Here ahihi :3&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Value</span>(<span style="color:#e6db74">&#34;${local.server.port}&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> port;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Autowired</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> TestRestTemplate restTemplate;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* Negative scenaio: 1, Invalid jwtToken
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   create the reservationDetails object   with fields firstName, lastName, gender, age,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   flightId, travelClass, ticketPrice, currencyCode,paymentMode, contactNumber
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   and contactEmail attributes
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   Create the HTTP headers object and pass the jwtToken.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   Call /reserve end point using post method  pass reservationDetails as request body
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   Assert that the response message is &#34;Invalid Token&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testReserveFlightWithInvalidToken</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Create a ReservationDetails object with the necessary data</span>
</span></span><span style="display:flex;"><span>        ReservationDetails reservationDetails <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ReservationDetails();
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setFirstName</span>(<span style="color:#e6db74">&#34;John&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setLastName</span>(<span style="color:#e6db74">&#34;Doe&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setGender</span>(<span style="color:#e6db74">&#34;Male&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setAge</span>(30);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setFlightId</span>(1);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setTravelClass</span>(<span style="color:#e6db74">&#34;Economy&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setTicketPrice</span>(100.<span style="color:#a6e22e">0</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setCurrencyCode</span>(<span style="color:#e6db74">&#34;USD&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setPaymentMode</span>(<span style="color:#e6db74">&#34;Credit Card&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setContactNumber</span>(<span style="color:#e6db74">&#34;1234567890&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setContactEmail</span>(<span style="color:#e6db74">&#34;john.doe@example.com&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Create an HTTP entity with the reservation details and an invalid JWT token</span>
</span></span><span style="display:flex;"><span>        HttpHeaders headers <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HttpHeaders();
</span></span><span style="display:flex;"><span>        headers.<span style="color:#a6e22e">setBearerAuth</span>(<span style="color:#e6db74">&#34;invalid_token&#34;</span>);
</span></span><span style="display:flex;"><span>        HttpEntity<span style="color:#f92672">&lt;</span>ReservationDetails<span style="color:#f92672">&gt;</span> requestEntity <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HttpEntity<span style="color:#f92672">&lt;&gt;</span>(reservationDetails, headers);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Send a POST request to the booking API endpoint</span>
</span></span><span style="display:flex;"><span>        ResponseEntity<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> responseEntity <span style="color:#f92672">=</span> restTemplate.<span style="color:#a6e22e">postForEntity</span>(<span style="color:#e6db74">&#34;/reserve&#34;</span>, requestEntity, String.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Assert the response status code and message</span>
</span></span><span style="display:flex;"><span>        assertThat(responseEntity.<span style="color:#a6e22e">getStatusCode</span>()).<span style="color:#a6e22e">isEqualTo</span>(HttpStatus.<span style="color:#a6e22e">UNAUTHORIZED</span>);
</span></span><span style="display:flex;"><span>        assertThat(responseEntity.<span style="color:#a6e22e">getBody</span>()).<span style="color:#a6e22e">isEqualTo</span>(<span style="color:#e6db74">&#34;Invalid Token&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* Negative scenaio:  Invalid Contact number
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   create the reservationDetails object  with fields firstName, lastName, gender, age,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   flightId, travelClass, ticketPrice, currencyCode,paymentMode, invalid contactNumber
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   and contactEmail attributes
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   create the HTTP headers object and pass the jwtToken
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   call /reserve end point using post method, pass reservationDetails as request body
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   assert that the response message contains &#34;Contact number must be a 10-digit number&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testInvalidContactNumber</span>() {
</span></span><span style="display:flex;"><span>        ReservationDetails reservationDetails <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ReservationDetails();
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setFirstName</span>(<span style="color:#e6db74">&#34;XXXX&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setLastName</span>(<span style="color:#e6db74">&#34;XXX&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setGender</span>(<span style="color:#e6db74">&#34;Male&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setAge</span>(30);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setFlightId</span>(1);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setTravelClass</span>(<span style="color:#e6db74">&#34;First Class&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setTicketPrice</span>(100.<span style="color:#a6e22e">0</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setCurrencyCode</span>(<span style="color:#e6db74">&#34;USD&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setPaymentMode</span>(<span style="color:#e6db74">&#34;Credit Card&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setContactNumber</span>(<span style="color:#e6db74">&#34;1234&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setContactEmail</span>(<span style="color:#e6db74">&#34;XX@gmail.com&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        HttpHeaders headers <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HttpHeaders();
</span></span><span style="display:flex;"><span>        headers.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#34;Authorization&#34;</span>,myToken);
</span></span><span style="display:flex;"><span>        HttpEntity<span style="color:#f92672">&lt;</span>ReservationDetails<span style="color:#f92672">&gt;</span> request <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HttpEntity<span style="color:#f92672">&lt;&gt;</span>(reservationDetails, headers);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        ResponseEntity<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> response <span style="color:#f92672">=</span> restTemplate.<span style="color:#a6e22e">postForEntity</span>(<span style="color:#e6db74">&#34;/reserve&#34;</span>, request, String.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        assertThat(response.<span style="color:#a6e22e">getStatusCode</span>()).<span style="color:#a6e22e">isEqualTo</span>(HttpStatus.<span style="color:#a6e22e">BAD_REQUEST</span>);
</span></span><span style="display:flex;"><span>        assertThat(response.<span style="color:#a6e22e">getBody</span>()).<span style="color:#a6e22e">contains</span>(<span style="color:#e6db74">&#34;Contact number must be a 10-digit number&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* Positive scenario 1:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   create the reservationDetails object  with fields firstName, lastName, gender, age,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   flightId, travelClass, ticketPrice, currencyCode,paymentMode, contactNumber
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   and contactEmail attributes
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   create the HTTP headers object and pass the jwtToken
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   call /reserve end point using post method, pass reservationDetails as request body
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   assert that http status OK
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   and  assert that the response message contains &#34;reservation made successfully&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testPositiveScenario</span>() {
</span></span><span style="display:flex;"><span>        ReservationDetails reservationDetails <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ReservationDetails();
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setFirstName</span>(<span style="color:#e6db74">&#34;XXXX&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setLastName</span>(<span style="color:#e6db74">&#34;XXX&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setGender</span>(<span style="color:#e6db74">&#34;Male&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setAge</span>(30);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setFlightId</span>(1);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setTravelClass</span>(<span style="color:#e6db74">&#34;First Class&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setTicketPrice</span>(100.<span style="color:#a6e22e">0</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setCurrencyCode</span>(<span style="color:#e6db74">&#34;USD&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setPaymentMode</span>(<span style="color:#e6db74">&#34;Credit Card&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setContactNumber</span>(<span style="color:#e6db74">&#34;0928895717&#34;</span>);
</span></span><span style="display:flex;"><span>        reservationDetails.<span style="color:#a6e22e">setContactEmail</span>(<span style="color:#e6db74">&#34;phamhuutuanaws@gmail.com&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        HttpHeaders headers <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HttpHeaders();
</span></span><span style="display:flex;"><span>        headers.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#34;Authorization&#34;</span>,myToken);
</span></span><span style="display:flex;"><span>        HttpEntity<span style="color:#f92672">&lt;</span>ReservationDetails<span style="color:#f92672">&gt;</span> request <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HttpEntity<span style="color:#f92672">&lt;&gt;</span>(reservationDetails, headers);
</span></span><span style="display:flex;"><span>        ResponseEntity<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> response <span style="color:#f92672">=</span> restTemplate.<span style="color:#a6e22e">postForEntity</span>(<span style="color:#e6db74">&#34;/reserve&#34;</span>, request, String.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>        assertThat(response.<span style="color:#a6e22e">getStatusCode</span>()).<span style="color:#a6e22e">isEqualTo</span>(HttpStatus.<span style="color:#a6e22e">OK</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>




<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/vi/3-module-2-flight-reservation-api/9-book-flight-api-controller/" title="Tạo Controller API đặt chuyến bay"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/vi/4-testing-api-with-postman/" title="Chạy thử API với Postman" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1726247042"></script>
    <script src="/js/perfect-scrollbar.min.js?1726247042"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1726247042"></script>
    <script src="/js/jquery.sticky.js?1726247042"></script>
    <script src="/js/featherlight.min.js?1726247042"></script>
    <script src="/js/highlight.pack.js?1726247042"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1726247042"></script>
    <script src="/js/learn.js?1726247042"></script>
    <script src="/js/hugo-learn.js?1726247042"></script>

    <link href="/mermaid/mermaid.css?1726247042" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1726247042"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
